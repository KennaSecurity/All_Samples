# Find Kenna assets with zero vulnerabilities

Kenna's query language does not provide the capability to query for assets with a vulnerability count of zero, however the API helpfully provides a "vulnerabilities_count" field on the asset export record. This Python script searches through an export of all active assets to find those with a vulnerability count of zero.

Two files are output after the data is manipulated. The json file includes all metadata for each zero-vulnerabilty asset, while the CSV file is simply a list of Kenna asset IDs which do not have any open vulnerabilities on them. The json can be used for manual verification, analysis, and historical record keeping, while the csv file can be used to mark the assets inactive with the API, or the file can be provided to Kenna support for assistance.


## Dependencies

### Environment

Kenna API token defined as a system environment variable `KENNA_API_KEY`

[Linux/Mac Instructions](https://phoenixnap.com/kb/set-environment-variable-mac)

[Windows Instructions](https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/1.5.1/oread/creating-and-modifying-environment-variables-on-windows.html)

### Language

Python 3

## Usage Instructions

#### Requirements Installation

`pip3 install -r requirements.txt`

#### Run Script 

`python zero_vuln_assets.py`
